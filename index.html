<html>
    <head>
        <meta name="theme-color" content="rgba(0, 8, 43, 1)">
        <title>My Title</title>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            $(function() {
                let railroadPlayed = false;

                function onLoop() {
                    const scrollTop = $(document).scrollTop();
                    console.log(scrollTop);

                    /** First image fade on scroll up */
                    const alpha = scrollTop / 300;
                    $('.aurora1-cover').css("background-color", "rgba(0, 0, 0, " + alpha + ")");
                    document.querySelector('meta[name="theme-color"]').setAttribute('content', "rgba(0, " + 8*(1-alpha) + ", " + 43*(1-alpha) + ", 1)");
                    if (scrollTop > 350) {
                        $('.aurora1').hide();
                    } else {
                        $('.aurora1').show();
                    }

                    /** First text - This Christmas at Alaska */
                    $('.title').css("color", "rgba(195, 241, 92, " + ((scrollTop - 230) / 300) + ")");
                    $('.title').css("opacity", (1050 - scrollTop) / 100);

                    /** railroad - background */
                    if (scrollTop > 700) {
                        /** background */
                        const singleColor = 255 * ((scrollTop - 700) / 200);
                        const colorString = "rgba(" + singleColor + ", " + singleColor + ", " + singleColor + ", 1)";
                        document.querySelector('meta[name="theme-color"]').setAttribute('content', colorString);
                        $('body').css("background-color", colorString);
                    } else {
                        $('body').css("background-color", "rgba(0, 0, 0, 1)");
                    }
                    /** railroad - video */
                    if (scrollTop > 700) {
                        $('.railroad').show();
                        if (!railroadPlayed) {
                            railroadPlayed = true;
                            document.getElementById("railroad").play();
                        }
                        $('.railroad').css("opacity", (scrollTop - 700) / 300);
                    } else {
                        $('.railroad').hide();
                    }
                }

                /** Animation Engine */
                var scroll = window.requestAnimationFrame ||
                    function(callback){ window.setTimeout(callback, 1000/60)};
                function loop() {
                    onLoop();
                    scroll(loop);
                }
                loop();
            });
        </script>
        <style>
            body {
                margin: 0;
                background-color: rgba(0, 0, 0, 1);
                height: 5000px;
            }

            /** First image */
            .aurora1 {
                position: fixed;
                /* top: 200px; */
                height: 1150px;
            }
            .aurora1::before {
                content: "";
                position: absolute;
                background: linear-gradient(rgba(0, 8, 43, 1) 300px, rgba(0, 8, 43, 0));
                z-index: 1;
                height: 400px;
                width: 100%;
            }
            .aurora1::after {
                content: "";
                position: absolute;
                bottom: 0;
                left: 0;
                background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 1) 20%);
                z-index: 1;
                height: 100px;
                width: 100%;
            }
            .aurora1-img {
                width: 100%;
            }
            .aurora1-cover {
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                width: 100%;
                z-index: 2;
                background: rgba(0, 0, 0, 0);
            }

            /** First text - This Christmas at Alaska */
            .title {
                position: relative;
                top: 1600px;
                color: rgba(195, 241, 92, 0);
                z-index: 1;
                font-size: 64px;
                text-align: center;
            }

            /** railroad */
            .railroad {
                position: fixed;
                width: 100%;
                top: 700px;
                z-index: -2;
                opacity: 0;
            }
        </style>
    </head>
    
    <body>
        <div class="aurora1">
            <div class="aurora1-cover"></div>
            <img class="aurora1-img" src="aurora1-cut.jpg" />
        </div>
        <div class="title">
            This Christmas at Alaska
        </div>
        <video class="railroad" id='railroad' muted>
            <source src="alaska_720.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
    </body>
</html>